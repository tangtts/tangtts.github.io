import{d as g,o as m,a as d,t as V,_ as k,r as F,c as E,m as w,M,z as N,l as L,b as s,F as P,f as R,u as H,n as U,A as $,i as D,s as b,k as q,j as a,v as j}from"./app.58fe2863.js";const O={class:"item"},J=g({props:{item:{type:Object,default:()=>[]}},setup(h){return(n,o)=>(m(),d("div",O," item: "+V(h.item.value),1))}});const G=k(J,[["__scopeId","data-v-e9eceb56"]]),K=["index","vid"],Q=g({props:{items:{type:Array,default:()=>[]},size:{type:Number,default:40},remain:{type:Number,default:0},variable:{type:Boolean,default:!1}},setup(h){const n=h,o=F(0),e=F(n.remain),c=F(0),f=E(()=>{let p=o.value-A.value,t=e.value+z.value;return n.items.slice(p,t)}),A=E(()=>Math.min(o.value,n.remain)),z=E(()=>Math.min(e.value,n.items.length-e.value)),x=F(null),v=F(null);let l=w([]);M(()=>{N(()=>{let p=x.value;p&&(p==null||p.forEach(t=>{var B;let{height:y}=t.getBoundingClientRect(),r=+((B=t.getAttribute("vid"))!=null?B:0)-0,i=l[r].height-y;if(i){l[r].height=y,l[r].bottom=l[r].bottom-i;for(let u=r+1;u<l.length;u++)l[u].top=l[u-1].bottom,l[u].bottom=l[u].bottom-i}})),v.value.style.height=l[l.length-1].bottom+"px"})});const I=p=>{let t=0,y=l.length-1,r=null;for(;t<y;){let C=parseInt(String((t+y)/2)),i=l[C].bottom;if(i==p)return C;i<p?t=C+1:((r==null||r>C)&&(r=C),y=C-1)}return r},_=F(null),T=()=>{let p=_.value.scrollTop;n.variable?(o.value=I(p)||0,e.value=o.value+n.remain,c.value=l[o.value-A.value]?l[o.value-A.value].top:0):(o.value=Math.floor(p/n.size),e.value=o.value+n.remain,c.value=o.value*n.size-A.value*n.size)},S=()=>{l=n.items.map((p,t)=>({height:n.size,top:t*n.size,bottom:(t+1)*n.size}))};return L(()=>{_.value.style.height=n.remain*n.size+"px",v.value.style.height=n.items.length*n.size+"px",S()}),(p,t)=>(m(),d("div",{class:"viewport",ref_key:"viewport",ref:_,onScroll:T},[s("div",{class:"scroll-bar",ref_key:"scrollBar",ref:v},null,512),s("div",{class:"scroll-list",style:U({top:c.value+"px"})},[(m(!0),d(P,null,R(H(f),(y,r)=>(m(),d("div",{index:y.id,vid:y.id,ref_for:!0,ref_key:"itemsRefNode",ref:x},[$(p.$slots,"default",{item:y})],8,K))),256))],4)],544))}});const W=g({setup(h){const n=[];for(let c=0;c<100;c++)n.push({id:c,value:Math.floor(Math.random()*c)+c});const o=F(8),e=F(40);return(c,f)=>(m(),d("div",null,[D(Q,{items:n,remain:o.value,size:e.value,variable:!0},{default:b(({item:A})=>[D(G,{item:A},null,8,["item"])]),_:1},8,["remain","size"])]))}}),X=q("",4),Y=s("li",null,[a("\u7528\u6237\u4F20\u9012"),s("code",null,"\u5168\u90E8\u6570\u636EData"),a(",\u548C"),s("code",null,"remain \u53EF\u89C1\u4E2A\u6570"),a(",\u548C "),s("code",null,"size \u5927\u7EA6\u6BCF\u4E2Aitem\u7684\u9AD8\u5EA6")],-1),Z=a("\u5916\u4FA7\u5BB9\u5668\u7684\u9AD8\u5EA6\u662F"),ss=a("remain * size"),ns=a(",\u5185\u90E8\u5BB9\u5668\u7684\u9AD8\u5EA6\u662F"),as=a("\u5168\u90E8\u6570\u636EData.length * size"),ls=a(",\u6240\u4EE5\u53EF\u4EE5\u53D1\u751F\u6EDA\u52A8"),ps=s("li",null,[a("\u5B9A\u4E49"),s("code",null,"start"),a(","),s("code",null,"end"),a(" \u8FDB\u884C\u521D\u59CB\u5316\u5207\u5272\uFF0C\u9ED8\u8BA4"),s("code",null,"start = 0,end = remain")],-1),os=a("\u9875\u9762\u6E32\u67D3\u53EA\u8981\u8981\u5BF9"),es=a("\u5168\u90E8\u6570\u636EData.slice(start,end)"),ts=a("\u8FDB\u884C\u5207\u5272\u5373\u53EF"),rs=a("\u5F53\u53D1\u751F\u6EDA\u52A8\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u8BA1\u7B97\u51FA"),cs=a(" start = \u6EDA\u52A8\u7684\u9AD8\u5EA6 / size"),ys=s("code",null,",",-1),Fs=a("end= start + remain"),Ds=a(",\u518D\u6B21\u8FDB\u884C\u5207\u5272"),Cs=s("h3",{id:"\u975E\u56FA\u5B9A\u9AD8\u5EA6",tabindex:"-1"},[a("\u975E\u56FA\u5B9A\u9AD8\u5EA6 "),s("a",{class:"header-anchor",href:"#\u975E\u56FA\u5B9A\u9AD8\u5EA6","aria-hidden":"true"},"#")],-1),As=a("\u539F\u7406\u662F\u76F8\u4F3C\u7684\uFF0C\u90FD\u662F\u4E0D\u65AD\u7684"),is=a("\u5207\u5272\u6570\u636E"),us=a("\uFF0C\u552F\u4E00\u4E0D\u540C\u7684\u662F\uFF0C\u9700\u8981\u8BA1\u7B97\u6BCF\u4E2Aitem\u7684\u9AD8\u5EA6\uFF0C\u6EDA\u52A8\u7684\u65F6\u5019\u52A8\u6001\u7684\u6539\u53D8 start \u7684\u503C"),bs=s("hr",null,null,-1),ms=s("div",{class:"tip custom-block"},[s("p",{class:"custom-block-title"},"TIP"),s("p",null,"\u80FD\u5206\u9875\u8FD8\u662F\u5206\u9875")],-1),ds=s("blockquote",null,null,-1),hs=s("h1",{id:"\u57FA\u7840\u7528\u6CD5",tabindex:"-1"},[a("\u57FA\u7840\u7528\u6CD5 "),s("a",{class:"header-anchor",href:"#\u57FA\u7840\u7528\u6CD5","aria-hidden":"true"},"#")],-1),vs=s("blockquote",null,null,-1),_s=q("",5),fs=JSON.parse('{"title":"\u865A\u62DF\u5217\u8868","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u865A\u62DF\u6EDA\u52A8\u7684\u4E3B\u8981\u539F\u7406","slug":"\u865A\u62DF\u6EDA\u52A8\u7684\u4E3B\u8981\u539F\u7406","link":"#\u865A\u62DF\u6EDA\u52A8\u7684\u4E3B\u8981\u539F\u7406","children":[{"level":3,"title":"\u56FA\u5B9A\u9AD8\u5EA6","slug":"\u56FA\u5B9A\u9AD8\u5EA6","link":"#\u56FA\u5B9A\u9AD8\u5EA6","children":[]},{"level":3,"title":"\u975E\u56FA\u5B9A\u9AD8\u5EA6","slug":"\u975E\u56FA\u5B9A\u9AD8\u5EA6","link":"#\u975E\u56FA\u5B9A\u9AD8\u5EA6","children":[]}]}],"relativePath":"examples/virtual/index.md"}'),Es={name:"examples/virtual/index.md"},xs=Object.assign(Es,{setup(h){return(n,o)=>{const e=j("red");return m(),d("div",null,[X,s("ol",null,[Y,s("li",null,[Z,D(e,null,{default:b(()=>[ss]),_:1}),ns,D(e,null,{default:b(()=>[as]),_:1}),ls]),ps,s("li",null,[os,D(e,null,{default:b(()=>[es]),_:1}),ts]),s("li",null,[rs,D(e,null,{default:b(()=>[cs,ys,Fs]),_:1}),Ds])]),Cs,s("p",null,[As,D(e,null,{default:b(()=>[is]),_:1}),us]),bs,ms,ds,hs,vs,D(W),_s])}}});export{fs as __pageData,xs as default};
