import{d as O,h as f,g as m,o as r,c as F,a as t,w as T,u as C,F as w,k,l as v,t as M,b as P,e as i,f as I}from"./app.aef898f2.js";const L={style:{overflow:"auto",height:"200px"}},H=["infinite-scroll-disabled"],N={class:"list-item"},V={key:0},$={key:1},j=O({__name:"index",setup(B){let A=f(2),D=f(!1);const d=m(()=>A.value>=20);let u={delay:500,immediate:!0,disabled:!1,distance:0};function E(s,l){return Object.keys(u).reduce((n,a)=>{var p,c;const o=s.getAttribute(`infinite-scroll-${a}`)||"";let e=(c=(p=l[o])!=null?p:o)!=null?c:u[a];return e=e==="false"?!1:e,n[a]=e!=null?e:u[`${a}`],n},{})}function b(s){let l=/(scroll)|(auto)/g;for(;s!=document.documentElement;){let n=getComputedStyle(s).overflow;if(l.test(n))return s;if(s.parentElement)s=s.parentElement;else{s=document.documentElement;return}}}function h(s,l=200){let n=null,a=!0;return()=>{if(!a)return;a=!1;const o=arguments;n=setTimeout(()=>{a=!0,clearTimeout(n),s.apply(window,o)},l)}}const y="infinite-scroll";function q(s,l){const{instance:n,observer:a,container:o}=s[y],{disabled:e,distance:p}=E(s,n);e||(o.scrollTop+o.clientHeight+Number(p)>=o.scrollHeight?l():a&&(a.disconnect(),delete s[y].observer))}let _={async mounted(s,l){const{instance:n,value:a}=l;let{delay:o,immediate:e}=E(s,n),p=b(s),c=q.bind(null,s,a);if(!!n){if(s[y]={container:p,onScroll:c,el:s,instance:n},e){let g=new MutationObserver(c);s[y].observer=g,g.observe(p,{childList:!0,subtree:!0}),c()}p==null||p.addEventListener("scroll",h(c.bind(null,s,n),o)),console.log("\u{1F680} ~ file: index.vue ~ line 165 ~ mounted ~ container",p)}},unmounted(s){const{onScroll:l,container:n}=s[y];n&&(n.removeEventListener("scroll",l),s[y]={})}};const S=m(()=>D.value||d.value),x=()=>{D.value=!0,setTimeout(()=>{A.value+=2,D.value=!1},1e3)};return(s,l)=>(r(),F("div",null,[t("div",L,[T((r(),F("ul",{class:"list","infinite-scroll-delay":300,"infinite-scroll-distance":20,"infinite-scroll-immediate":!0,"infinite-scroll-disabled":C(S)},[(r(!0),F(w,null,k(C(A),n=>(r(),F("li",N,M(n),1))),256))],8,H)),[[C(_),x]]),C(D)?(r(),F("p",V,"\u52A0\u8F7D\u4E2D...")):v("",!0),C(d)?(r(),F("p",$,"\u6CA1\u6709\u66F4\u591A\u4E86")):v("",!0)])]))}});const K=t("h1",{id:"\u65E0\u9650\u6EDA\u52A8",tabindex:"-1"},[i("\u65E0\u9650\u6EDA\u52A8 "),t("a",{class:"header-anchor",href:"#\u65E0\u9650\u6EDA\u52A8","aria-hidden":"true"},"#")],-1),J=t("p",null,"\u6EDA\u52A8\u81F3\u5E95\u90E8\u65F6\uFF0C\u6EDA\u52A8\u52A0\u8F7D\u66F4\u591A\u6570\u636E\u3002",-1),R=t("blockquote",null,[t("p",null,[i("\u865A\u62DF\u6EDA\u52A8\u7684\u4E3B\u8981\u539F\u7406 \u7B2C\u4E00\u6B21\u5148\u4F7F\u7528 new MutationObserver \u8FDB\u884C\u586B\u5145,\u7B49\u586B\u5145\u5B8C\u6BD5\uFF0C\u5373\u9AD8\u5EA6\u5408\u9002\uFF0C(\u89E6\u5E95)\u5C31\u628A observe \u5220\u9664\u6389"),t("br"),i(" \u540E\u7EED\u4F7F\u7528 \u5E26\u6709 overflow:scroll/auto \u7684\u5143\u7D20\u8EAB\u4E0A\u52A0\u4E0A\u6EDA\u52A8\uFF0C\u6EDA\u52A8\u4E00\u6B21\uFF0C\u52A0\u8F7D\u4E00\u6B21")])],-1),U=t("h1",{id:"\u57FA\u7840\u7528\u6CD5",tabindex:"-1"},[i("\u57FA\u7840\u7528\u6CD5 "),t("a",{class:"header-anchor",href:"#\u57FA\u7840\u7528\u6CD5","aria-hidden":"true"},"#")],-1),W=t("blockquote",null,null,-1),z=I("",5),X=JSON.parse('{"title":"\u65E0\u9650\u6EDA\u52A8","description":"","frontmatter":{},"headers":[],"relativePath":"examples/infiniteScroll/index.md"}'),G={name:"examples/infiniteScroll/index.md"},Y=Object.assign(G,{setup(B){return(A,D)=>(r(),F("div",null,[K,J,R,U,W,P(j),z]))}});export{X as __pageData,Y as default};
