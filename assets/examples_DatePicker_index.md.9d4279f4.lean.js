import{b as S}from"./chunks/index.0deffe69.js";import{d as Q,r as q,m as j,q as I,c as P,o as E,a as f,b as n,t as h,u as k,F as Y,f as V,g as N,p as W,h as L,_ as X,i as c,s as U,j as p,v as C,k as K}from"./app.3985b09d.js";import"./chunks/index.98bbac4d.js";const H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAU9JREFUWEftlrEuBVEQhr/7EAqvgIcgXgGvg4e4L0GlIhEUVCoaGrehQCQqlUoOh6xx/p2Z22wku80W+8/8Xybnn7MTBn4mA/szAvzbCSwBO0B5r/ScI1c3zwRK0z1guRrvVhjLEdJlAWzTG2AVeDHuUV0qBbbpHbABXDvmSvdZFp2ANb8HNoFLx1zpfsoiANb8qZpfOOZK96vMA7Dmr9X81DFXuj+B6QOw5m/V/MgxV7pmWhXAInDcido7sAUcmC5RnVwVCqAsme1OVTHfb3SJ6tIAC8BZYAJRXRqgFLTOQJnEYeAMtHSpM/AtbqWgND8JpKClS6VAQTzXNJw7EEqX2gMK4qGuYW8TKl1qEyqIWYW4ciahdKm7QEHcAuvAowOhdOHLqNs/dM83UtT8b/DuApXfAjGtH9dkyL+i3KubF6DHM/dpBBgnME5g8Al8AHoAZCG9zC4lAAAAAElFTkSuQmCC",Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAMhJREFUWEftlsENAjEMBOeK4EELQBFQBLTAgyaoB4qAJqAeZOmQUAApsVfxJ3lHmom9iTORvKZkPkNgVEBdgQVwAs614VYKrIALsAbuwK5GQiXwCTfuFTj0Eijhjxn+7CEQgptgpAVheERAAvcKyOAeASncI3ADtnO6m9L+70a0htAemn2mQHoL7PBSidYWvFspk/AKyCoREZBIRAXCEgqBXxLd/wOlhD1Smx7juGQsgWPWl6zmwF97VBlwwT3DyA1SDaMhIK/AC6mCNCEQ8WXJAAAAAElFTkSuQmCC",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAMJJREFUWEft1rsNAjEURNG77UATUATUQxMEtABFQBFACwQ0gZ5kMiTbbwY58cb2ztHIv4XB3zI4nwmYDWQaOABH4O1YwL2AK7ABHsAeeKqIXsAZ2JVQC6IXsAICsXYhegGRa0VkAFZEFmBDKAALQgXICAfgF+IGbFvOiH8BLuWgqhocAGlbqgApPOpRAHK4ArCEZwG28AzAGp4BfN8DMXfIdXwvV7ElPNNAzIkn2Ql4VU+ZhgHKNmz4fX3IBMwGhjfwAbVxOCGBZwngAAAAAElFTkSuQmCC",ss="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAALtJREFUWEftl0sOgCAMRMeTqyfXsMD4g7wxVmICKxfT4VmghUGNx9B4fnWAnoFaBiZJo6RZUvouDaq7ja8BLLuIGgTV2QD5z3JgCYLqbIAUQM2p7gJBTgE1p7oDBAEIzQQFCINwAEIgXIDXIZ4A3EGUfM4b86J7AkB3O9K5AMjUqB/WfeD1ydNa0gykprRvSKWyTHVbMSIA1JTqrEpITanO6gUha34m+MV9oNmN6JMnAzkFoSAdoGegeQZW0nlKIeAWu6oAAAAASUVORK5CYII=",M=y=>(W("data-v-c7d8f143"),y=y(),L(),y),ns={class:"date-picker"},as={class:"header"},ls=M(()=>n("img",{class:"icon",src:H,alt:"left-month"},null,-1)),ps=[ls],os=M(()=>n("img",{class:"icon",src:Z,alt:"left-month"},null,-1)),es=[os],ts={class:"header"},rs=M(()=>n("img",{class:"icon",src:$,alt:"left-month"},null,-1)),cs=[rs],Fs=M(()=>n("img",{class:"icon",src:ss,alt:"left-month"},null,-1)),ys=[Fs],Ds={class:"weekContainer"},As=["onClick"],Cs=Q({__name:"date-picker",props:{modelValue:{default:()=>new Date},valueFormat:{default:"timestamp"},type:{default:"date"}},emits:["update:modelValue","selectRange"],setup(y,{emit:i}){const F=y,D=["日","一","二","三","四","五","六"],t=(s,a)=>J.value[(s-1)*7+(a-1)],T=s=>o.year==s.getFullYear()&&o.month==s.getMonth(),u=s=>{const a=new Date;return a.getFullYear()==s.getFullYear()&&a.getMonth()==s.getMonth()&&a.getDate()==s.getDate()},b=s=>o.year==s.getFullYear()&&o.month==s.getMonth()&&o.date==s.getDate(),m=s=>{let a=r.value,l=Math.min(...a),e=Math.max(...a),A=s.getTime();return l<=A&&A<=e},d=s=>{let a=r.value,l=s.getTime();return a.includes(l)},v=(s,a)=>{let l=new Date(o.year,o.month,o.date),e=new Map([]);e.set("year+",function(){o.year=l.getFullYear()+1}),e.set("year-",function(){o.year=l.getFullYear()-1}),e.set("month+",function(){let _=l.getMonth()+1;const B=l.setMonth(_);o.month=new Date(B).getMonth()}),e.set("month-",function(){let _=l.getMonth()-1;const B=l.setMonth(_);o.month=new Date(B).getMonth()});let A=e.get(s+a);A==null||A()};function O(s){return F.valueFormat=="timestamp"?s.getTime():F.valueFormat=="YYYY-MM-DD"?s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate():s}let r=q([]);function G(s){const a=s.getTime();if(!r.value.length)r.value.push(a);else if(r.value.length==1)r.value.at(0)<a?r.value.push(a):r.value.unshift(a);else{let l=r.value.at(0);r.value.at(1),a<l?(r.value.shift(),r.value.unshift(a)):(r.value.pop(),r.value.push(a))}}const z=s=>{if(G(s),F.type=="date")i("update:modelValue",O(s));else{let a=r.value.map(l=>O(new Date(l)));i("selectRange",a)}};function g(s){return(typeof s=="string"||typeof s=="number")&&(s=new Date(s)),{year:s.getFullYear(),month:s.getMonth(),date:s.getDate()}}let o=j({year:g(F.modelValue).year,month:g(F.modelValue).month,date:g(F.modelValue).date});I(()=>F.modelValue,s=>{o.year=g(s).year,o.month=g(s).month,o.date=g(s).date});let x=[];const R=24*60*60*1e3;let J=P(()=>{x=[];let s=new Date(o.year,o.month,o.date),a=s.getFullYear(),l=s.getMonth(),e=new Date(a,l,1),A=e.getDay()??7,B=e.getTime()-A*R;for(let w=0;w<42;w++)x.push(new Date(B+w*R));return x});return(s,a)=>(E(),f("div",ns,[n("header",as,[n("div",{onClick:a[0]||(a[0]=l=>v("year","-"))},ps),n("div",{onClick:a[1]||(a[1]=l=>v("month","-"))},es),n("span",ts,h(k(o).year)+" 年 --- "+h(k(o).month+1)+"月 -- "+h(k(o).date),1),n("div",{onClick:a[2]||(a[2]=l=>v("month","+"))},cs),n("div",{onClick:a[3]||(a[3]=l=>v("year","+"))},ys)]),n("main",null,[n("header",Ds,[(E(),f(Y,null,V(D,(l,e)=>n("div",{class:"cell week",key:e},h(l),1)),64))]),n("div",null,[(E(),f(Y,null,V(6,l=>n("div",{key:l,class:"row"},[(E(),f(Y,null,V(7,e=>n("span",{onClick:A=>z(t(l,e)),key:e,class:N(["cell",{isRange:y.type=="range"?m(t(l,e)):!1,isActive:y.type=="range"?d(t(l,e)):!1}])},[n("span",{class:N(["date",{isCurrentMonth:T(t(l,e)),isToday:u(t(l,e)),isSelect:y.type=="date"?b(t(l,e)):!1}])},h(t(l,e).getDate()),3)],10,As)),64))])),64))])])]))}});const is=X(Cs,[["__scopeId","data-v-c7d8f143"]]),us={style:{margin:"20px"}},bs={class:"group"},ms={class:"result"},ds=Q({__name:"index",setup(y){const i=q(!0),F=q(!0);I(i,b=>{b?u.type="date":u.type="range"}),I(F,b=>{b?u.format="timestamp":u.format="YYYY-MM-DD"});const D=q(new Date),t=q(),T=b=>{t.value=b},u=j({format:"YYYY-MM-DD",type:"date"});return(b,m)=>(E(),f("div",us,[n("div",bs,[c(S,{modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=d=>i.value=d),activeText:"date",inactiveText:"range"},null,8,["modelValue"]),c(S,{modelValue:F.value,"onUpdate:modelValue":m[1]||(m[1]=d=>F.value=d),activeText:"timestamp",inactiveText:"YYYY-MM-DD"},null,8,["modelValue"])]),n("p",ms,h(i.value?D.value:t.value),1),c(is,{"value-format":u.format,type:u.type,modelValue:D.value,"onUpdate:modelValue":m[2]||(m[2]=d=>D.value=d),onSelectRange:T},null,8,["value-format","type","modelValue"])]))}});const gs=X(ds,[["__scopeId","data-v-3bbe3e81"]]),hs=n("h1",{id:"日历组件",tabindex:"-1"},[p("日历组件 "),n("a",{class:"header-anchor",href:"#日历组件","aria-hidden":"true"},"#")],-1),Es=n("code",null,"date",-1),fs=n("code",null,"range",-1),Bs=n("li",null,[p("是否是当前月，是否在选择日期的里面，是否是选中 都是基于"),n("code",null,"Date"),p("的这种结构")],-1),qs=n("hr",null,null,-1),vs={class:"tip custom-block"},_s=n("p",{class:"custom-block-title"},"TIP",-1),Ms=K("",6),Ts=K("",7),Vs=JSON.parse('{"title":"日历组件","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. 根据用户的传入进行格式化为一个Date[] 进行渲染页面","slug":"_1-根据用户的传入进行格式化为一个date-进行渲染页面","link":"#_1-根据用户的传入进行格式化为一个date-进行渲染页面","children":[]},{"level":2,"title":"渲染页面","slug":"渲染页面","link":"#渲染页面","children":[]},{"level":2,"title":"其他逻辑","slug":"其他逻辑","link":"#其他逻辑","children":[]}],"relativePath":"examples/DatePicker/index.md"}'),xs={name:"examples/DatePicker/index.md"},Is=Object.assign(xs,{setup(y){return(i,F)=>{const D=U("green"),t=U("red");return E(),f("div",null,[hs,n("ol",null,[n("li",null,[p("可以传入"),c(D,null,{default:C(()=>[p("type")]),_:1}),p(",可选值为 "),c(D,null,{default:C(()=>[p(" date | range ")]),_:1}),p(","),Es,p("只能选择一个日期，"),fs,p(" 可以选择多个")]),n("li",null,[p("可以传入"),c(D,null,{default:C(()=>[p(" format ")]),_:1}),p(",表示回显数据类型， 可选值为"),c(D,null,{default:C(()=>[p(" yyyy-mm-dd | timestamp ")]),_:1})]),n("li",null,[p("找到这个月的1号是周几，然后回退这么多天作为初始值，遍历 "),c(t,null,{default:C(()=>[p("42")]),_:1}),p("，形成一个"),c(t,null,{default:C(()=>[p("Date[]")]),_:1})]),n("li",null,[p("由于遍历到页面上是一个一个的"),c(t,null,{default:C(()=>[p("Date")]),_:1}),p(" 的结构，包含很多信息，可以方便做后续处理")]),Bs]),qs,n("div",vs,[_s,n("p",null,[p("巧妙之处在于,一方面是形成 "),c(t,null,{default:C(()=>[p("7 * 6")]),_:1}),p(" 的结构，另一方面是一个"),c(t,null,{default:C(()=>[p("Date")]),_:1}),p(" 类型，包含信息较多，方便后续的处理")])]),Ms,c(gs),Ts])}}});export{Vs as __pageData,Is as default};
