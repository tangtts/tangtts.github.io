import{d as f,o as e,a as r,H as m,p as v,h,b as y,_,r as d,L as w,q as R,D as k,A as S,i as C,s as g,F as U,f as T,T as I,t as V,j as $,k as x}from"./app.58fe2863.js";import{b as P}from"./chunks/index.d94e733e.js";import{b as j}from"./chunks/index.f509a1e6.js";import"./chunks/index.97d44ead.js";const z=a=>(v("data-v-fc8a8a3c"),a=a(),h(),a),N=["onDrop"],O=z(()=>y("span",null,"+",-1)),H=[O],M=f({emits:["file"],setup(a,{emit:l}){const p=c=>{l("file",Array.from(c.dataTransfer.files))};return(c,o)=>(e(),r("div",{class:"item",onDrop:m(p,["prevent"]),onDragleave:o[0]||(o[0]=m(()=>{},["prevent"])),onDragover:o[1]||(o[1]=m(()=>{},["prevent"]))},H,40,N))}});const G=_(M,[["__scopeId","data-v-fc8a8a3c"]]),J=a=>(v("data-v-ed6d607e"),a=a(),h(),a),K=["multiple"],Q=["src"],W={class:"name"},X=["onClick"],Y=J(()=>y("p",null,"x",-1)),Z=[Y],ss=f({props:{onSuccess:{type:Function,default:(a,l)=>({})},onExceed:{type:Function,default:(a,l)=>({})},onBeforeLoad:{type:Function},limit:Number,fileList:{type:Array,default:()=>[]},multiple:Boolean,drag:Boolean},setup(a){const l=a,p=d([]),c=s=>{const n=s.target.files;!n||A(Array.from(n))},o=s=>{p.value=p.value.filter(n=>s.uid!==n.uid),URL.revokeObjectURL(s.url)},A=s=>{if(s.length===0)return;const{limit:n,multiple:F,onExceed:B}=l;if(n&&p.value.length+s.length>n)return B(s,p.value);F||(s=s.slice(0,1));for(const L of s){const b=L;b.uid=E(),i(b),t(b)}},i=s=>{let n={size:s.size,url:URL.createObjectURL(s),raw:s,uid:s.uid,name:s.name};p.value=[...p.value,n]},t=s=>{if(!l.onBeforeLoad)return D(s);let n=!0;l.onBeforeLoad&&(n=l.onBeforeLoad(s),n&&D(s))},D=s=>{console.log("\u6267\u884C\u4E0A\u4F20"),l.onSuccess(s,p.value)},u=w(),q=()=>{u.value.value="",u.value.click()};function E(){return Date.now()}return R(()=>l.fileList,s=>{for(const n of s)n.uid||(n.uid=E());p.value.push(...s)},{immediate:!0,deep:!0}),(s,n)=>(e(),r("div",null,[a.drag?(e(),k(G,{key:0,onFile:A})):(e(),r("div",{key:1,onClick:q},[y("input",{type:"file",onChange:c,multiple:a.multiple,ref_key:"inputRef",ref:u,class:"input"},null,40,K),S(s.$slots,"default",{},void 0,!0)])),C(I,{tag:"ul",class:"list"},{default:g(()=>[(e(!0),r(U,null,T(p.value,F=>(e(),r("li",{key:F.uid,class:"item"},[y("img",{src:F.url,alt:""},null,8,Q),y("p",W,V(F.name),1),y("div",{class:"close",onClick:B=>o(F)},Z,8,X)]))),128))]),_:1})]))}});const ns=_(ss,[["__scopeId","data-v-ed6d607e"]]),as={name:String},ls=$("\u9009\u62E9\u6587\u4EF6"),ps=f({props:as,setup(a){const l=d(!1),p=()=>{alert("success")},c=()=>{alert("\u8D85\u51FA\u4E2A\u6570\u9650\u5236")},o=d([]),A=i=>(alert(`\u5F00\u59CB\u6821\u9A8C${i.name}`),!0);return(i,t)=>(e(),r("div",null,[C(P,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=D=>l.value=D),"active-text":"\u62D6\u62FD\u4E0A\u4F20","inactive-text":"\u70B9\u51FB\u4E0A\u4F20"},null,8,["modelValue"]),C(ns,{style:{"margin-top":"20px"},"on-success":p,"on-exceed":c,limit:3,drag:l.value,"before-upload":A,multiple:"",fileList:o.value,"onUpdate:fileList":t[1]||(t[1]=D=>o.value=D)},{default:g(()=>[C(j,{size:"large",style:{width:"200px",height:"80px"}},{default:g(()=>[ls]),_:1})]),_:1},8,["drag","fileList"])]))}}),os=x("",5),es=x("",5),ys=JSON.parse('{"title":"\u4E0A\u4F20","description":"","frontmatter":{},"headers":[{"level":2,"title":"drag \u7EC4\u4EF6","slug":"drag-\u7EC4\u4EF6","link":"#drag-\u7EC4\u4EF6","children":[]}],"relativePath":"examples/upload/index.md"}'),rs={name:"examples/upload/index.md"},Cs=Object.assign(rs,{setup(a){return(l,p)=>(e(),r("div",null,[os,C(ps),es]))}});export{ys as __pageData,Cs as default};
